{"version":3,"sources":["components/ErrorMessage.js","components/Message.js","services/people.js","components/Person.js","components/People.js","components/Filter.js","components/PersonForm.js","components/Footer.js","App.js","index.js"],"names":["ErrorMessage","message","className","style","color","background","fontSize","borderStyle","borderRadius","padding","marginTop","marginBottom","Message","baseUrl","getAll","a","request","axios","get","response","data","create","newObject","post","update","id","put","remove","delete","Person","values","deletePerson","name","margin","number","type","marginLeft","onClick","People","rows","lineHeight","Filter","setNameToFind","nameToFind","handleFindNameChange","onChange","align","htmlFor","value","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","replaceNumber","onSubmit","Footer","fontStyle","App","useState","people","setPeople","setNewName","setNewNumber","showAll","setShowAll","setShowNameToFind","errorMessage","setErrorMessage","setMessage","useEffect","peopleService","then","initialPeople","console","log","peopleToShow","Array","from","filter","person","toLowerCase","includes","replaceNumberOf","personNumber","find","n","changedPerson","askConfirm","window","confirm","returnedPerson","map","oldperson","setTimeout","catch","error","deletePersonOf","src","width","height","alt","role","href","event","preventDefault","target","nameObject","createdPerson","concat","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.225904e2.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst ErrorMessage = ({ message }) => {\r\n    const errorMessageStyle = {\r\n        color: 'red',\r\n        background: 'lightgray',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\" style={errorMessageStyle} >\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorMessage\r\n","import React from 'react'\r\n\r\nconst Message = ({ message }) => {\r\n    const messageStyle = {\r\n        color: 'green',\r\n        background: 'lightgray',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"message\" style={messageStyle} >\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/people'\r\n\r\nconst getAll = async () => {\r\n  const request = axios.get(baseUrl)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst create = async newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst update = async (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst remove = async id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nexport default {getAll, create, update, remove}\r\n","import React from 'react'\r\n\r\nconst Person = ({values,deletePerson}) => {\r\n\r\n  return (\r\n    <div className='list-group'>\r\n      <li className='list-group-item list-group-item-action'>\r\n        {values.name}\r\n        <span style={{margin: '5px'}} />\r\n        {values.number}\r\n        <button type='button' className='btn btn-warning' id='listbtn' style={{marginLeft: '5px'}} onClick={deletePerson}>delete</button>\r\n      </li>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\n\r\n\r\nconst People = ({rows}) => {\r\n\r\n    return (\r\n        <div style={{lineHeight: 0}} >\r\n            {rows}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default People","import React from 'react'\r\n\r\nconst Filter = ({setNameToFind,nameToFind,handleFindNameChange}) => {\r\n    return (\r\n        <form onChange={setNameToFind}>\r\n            <div align=\"left\">\r\n                <label htmlFor=\"filter\">filter shown with:</label>\r\n                <input id=\"filter\" type=\"text\" className=\"form-control\"\r\n                    value={nameToFind}\r\n                    onChange={handleFindNameChange}\r\n                />\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson,newName,handleNameChange,newNumber,handleNumberChange,replaceNumber}) => {\r\n    return (\r\n        <div className=\"col-auto\">\r\n        <form onSubmit={addPerson}>\r\n            <div align=\"left\" className=\"form-group\">\r\n                <label htmlFor=\"name\">name:</label>\r\n                <input id=\"name\" type=\"text\" className=\"form-control\"\r\n                    value={newName}\r\n                    onChange={handleNameChange}\r\n                />\r\n            </div>\r\n            <div align=\"left\" className=\"form-group\">\r\n                <label htmlFor=\"number\">number:</label>\r\n                <input id=\"number\" type=\"text\" className=\"form-control\"\r\n                    value={newNumber}\r\n                    onChange={handleNumberChange}\r\n                />\r\n            </div>\r\n            <div align=\"left\" className=\"form-group\">\r\n                <button className=\"btn btn-primary\"\r\n                    type=\"submit\"\r\n                    onClick={replaceNumber}\r\n                >\r\n                add\r\n                </button>\r\n            </div>\r\n        </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'gray',\r\n    fontStyle: 'italic',\r\n    fontSize: 16\r\n  }\r\n  return (\r\n    <div style={footerStyle}>\r\n      <br />\r\n      <hr />\r\n      <center>\r\n      <em>Phonebook app, Full Stack Web Development</em>\r\n      <br />\r\n      <em>University of Helsinki 2020</em>\r\n      </center>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer","import React, {useState, useEffect} from 'react'\r\nimport ErrorMessage from './components/ErrorMessage'\r\nimport Message from './components/Message'\r\nimport peopleService from './services/people'\r\nimport Person from './components/Person'\r\nimport People from './components/People'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Footer from './components/Footer'\r\n\r\nconst App = () => {\r\n  const [ people, setPeople ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ showAll, setShowAll ] = useState(true)\r\n  const [ nameToFind, setShowNameToFind ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n  const [ message, setMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    peopleService\r\n      .getAll()\r\n      .then(initialPeople => {\r\n        console.log(initialPeople)\r\n        setPeople(initialPeople)\r\n      })\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFindNameChange = (event) => {\r\n    setShowNameToFind(event.target.value)\r\n  }\r\n\r\n  const setNameToFind = (event) => {\r\n    event.preventDefault()\r\n    if (nameToFind!==''){\r\n      setShowAll(false)\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  let data = []\r\n  const peopleToShow = showAll\r\n    ? data = Array.from(people)\r\n    : people.filter(person => person.name.toLowerCase().includes(nameToFind.toLowerCase()))\r\n\r\n  const rows = () => peopleToShow.map(data =>\r\n    <Person\r\n      key={data.name}\r\n      values={data}\r\n      deletePerson={() => deletePersonOf(data.id)}\r\n      replaceNumber={() => replaceNumberOf(data.name,data.number)}\r\n    />\r\n  )\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n  \r\n    const mapNames = people.map(person => person.name.toLowerCase())\r\n      \r\n    if (mapNames.includes(nameObject.name.toLowerCase())) {\r\n      replaceNumberOf(nameObject)\r\n    } else {\r\n      peopleService\r\n      .create(nameObject)\r\n      .then(createdPerson => {\r\n        setPeople(people.concat(createdPerson))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setMessage(\r\n          `Added ${nameObject.name}`\r\n        )\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 4000)\r\n      })\r\n      .catch(error => {\r\n        setErrorMessage(\r\n          console.log(error.response.data)\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 4000)\r\n      })\r\n    }\r\n  }\r\n\r\n  const replaceNumberOf = (personNumber) => {\r\n    const person = people.find(n => n.name === personNumber.name)\r\n    const changedPerson = { ...person, number: personNumber.number }\r\n    const askConfirm = `${person.name} is already added to\r\n      phonebook, replace the old number with a new one?`\r\n\r\n     if (window.confirm(askConfirm)) {\r\n      peopleService\r\n      .update(person.id, changedPerson)\r\n      .then(returnedPerson => {\r\n        setPeople(people.map(\r\n          oldperson => oldperson.name !== person.name\r\n            ? oldperson\r\n            : returnedPerson\r\n          )\r\n        )\r\n        setMessage(\r\n          `Changed phone number of ${person.name}`\r\n        )\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 4000)\r\n      })\r\n      .catch(error => {\r\n        setErrorMessage(\r\n          `Information of ${person.name} has already been removed from server`\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 4000)\r\n        setPeople(people.filter(n => n.id !== person.id))\r\n      })\r\n     }\r\n  }\r\n\r\n  const deletePersonOf = id => {\r\n    const person = people.find(n => n.id === id)\r\n    \r\n     if (window.confirm(`Delete ${person.name}?`)) {\r\n      peopleService\r\n      .remove(id, person)\r\n      .then(() => {\r\n        setPeople(people.filter(n => n.id !== id))\r\n        setMessage(\r\n          `Deleted ${person.name}`\r\n        )\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 4000)\r\n      })\r\n      .catch(error => {\r\n        setErrorMessage(\r\n          `Information of ${person.name} has already been removed from server`\r\n        )\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 4000)\r\n      })\r\n     }\r\n  }\r\n\r\n  return (\r\n  <>\r\n\t  <nav id='nav' className='navbar navbar-light bg-light'>\r\n      <img src='/logo.png' width='50' height='35' className='d-inline-block align-top' alt=''/>\r\n      <strong>Phonebook</strong>\r\n      <a role='button' className='btn btn-outline-primary' href='/info'>Info</a>\r\n    </nav>\r\n    <div className='container'>\r\n      <br />\r\n      <div className='col-auto'>\r\n        <Filter \r\n          setNameToFind={setNameToFind}\r\n          nameToFind={nameToFind}\r\n          handleFindNameChange={handleFindNameChange}\r\n        />\r\n      </div>\r\n      <Message message={message} />\r\n      <ErrorMessage message={errorMessage} />\r\n      <br />\r\n      <div className='col-auto'>\r\n        <b>Add new contact</b>\r\n        <PersonForm\r\n          addPerson={addPerson}\r\n          newName={newName}\r\n          handleNameChange={handleNameChange}\r\n          newNumber={newNumber}\r\n          handleNumberChange={handleNumberChange}\r\n        />\r\n      </div>\r\n      <br />\r\n      <div className='col-auto'>\r\n        <b>Contacts</b>\r\n        <People rows={rows()}/>\r\n      </div>\r\n    <Footer />\r\n    </div>\r\n  </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root')\n)\n"],"sourceRoot":""}